[Unit]
Description=Interlock Backend Service
After=network.target
StartLimitIntervalSec=0

[Service]
WorkingDirectory=/opt/interlock/interlock_backend
Type=simple
Restart=always
RestartSec=2
# ---------------------------------------------------------------------------- #
# Uncomment line below to execute as a specific user
User=root
# ---------------------------------------------------------------------------- #
# Uncomment line below to run Back-end server with SSL (Force HTTPS)
ExecStart=source bin/activate && ./manage.py runsslserver --certificate /opt/interlock/sslcerts/fullchain.pem --key /opt/interlock/sslcerts/privkey.pem
# ---------------------------------------------------------------------------- #
# Uncomment line below to run Back-end server without SSL (HTTP)
#ExecStart=source bin/activate && ./manage.py runserver

[Install]
WantedBy=multi-user.target